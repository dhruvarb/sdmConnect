<link rel="stylesheet" href="/styles/dist-1.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css" />

<!-- Request Email Verification Page -->
<section class="py-16 bg-gray-800">
  <div class="max-w-3xl mx-auto bg-gray-700 p-12 rounded-lg shadow-xl">
    <h2 class="text-3xl font-bold text-white mb-8 text-center">
      Request Email Verification
    </h2>

    <!-- Notification Message -->
    <% if (notyfMessage) { %>
      <p class="text-red-500 text-center mb-6"><%= notyfMessage %></p>
    <% } %>

    <!-- Email Verification Form -->
    <form action="/pages/request-email-verification" method="POST" class="space-y-6">
      <div class="space-y-2">
        <label for="email" class="text-lg text-gray-300">Email</label>
        <input
          type="email"
          id="email"
          name="email"
          placeholder="Enter your email"
          class="input input-bordered w-full text-white bg-gray-600 rounded-lg p-4 focus:ring-2 focus:ring-blue-500 transition ease-in-out duration-300"
          required
        />
      </div>

      <div>
        <button
          type="submit"
          class="btn btn-primary w-full py-3 text-lg rounded-lg bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition ease-in-out duration-300"
        >
          Request Verification Link
        </button>
      </div>

      <!-- Register Link -->
      <div class="text-sm text-gray-400 text-center">
        <p>
          Already have an account?
          <a href="/pages/login" class="text-blue-400 hover:underline">Login here</a>
        </p>
      </div>
    </form>
  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script>

<script>
  // Display Notyf Notification if there is a message passed from the server
  const urlParams = new URLSearchParams(window.location.search);
  const status = urlParams.get('status');
  const message = urlParams.get('message');

  if (status && message) {
    const notyf = new Notyf();
    if (status === 'success') {
      notyf.success(decodeURIComponent(message));
    } else if (status === 'error') {
      notyf.error(decodeURIComponent(message));
    }
  }
</script>
