<link rel="stylesheet" href="/styles/dist-1.css" />
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css"
/>

<!-- Set New Password Form -->
<section class="py-16 bg-gray-800">
  <div class="max-w-3xl mx-auto bg-gray-700 p-12 rounded-lg shadow-xl">
    <h2 class="text-3xl font-bold text-white mb-8 text-center">
      Set Your New Password
    </h2>
    <form action="/pages/set-new-password" method="POST" class="space-y-6">
      <input type="hidden" name="email" value="<%= email %>" />
      <input type="hidden" name="token" value="<%= token %>" />

      <!-- New Password Field -->
      <div class="space-y-2">
        <label for="newPassword" class="text-lg text-gray-300"
          >New Password</label
        >
        <input
          type="password"
          name="newPassword"
          placeholder="New Password"
          id="newPassword"
          class="input input-bordered w-full text-white bg-gray-600 rounded-lg p-4 focus:ring-2 focus:ring-blue-500 transition ease-in-out duration-300"
          required
        />
      </div>

      <!-- Submit Button -->
      <div>
        <button
          type="submit"
          class="btn btn-primary w-full py-3 text-lg rounded-lg bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition ease-in-out duration-300"
        >
          Set New Password
        </button>
      </div>
    </form>
  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script>

<script>
  const urlParams = new URLSearchParams(window.location.search);
  const status = urlParams.get("status");
  const message = urlParams.get("message");

  if (status && message) {
    const notyf = new Notyf();
    if (status === "success") {
      notyf.success(decodeURIComponent(message));
    } else if (status === "error") {
      notyf.error(decodeURIComponent(message));
    }
  }
</script>
